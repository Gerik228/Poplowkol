Отлично понял твою задачу — тебе нужно:

При сохранении изображения (BLOB в APEX),

Автоматически сгенерировать постоянную ссылку (URL) на этот файл,

И сохранить её в отдельную колонку, например image_url,

Чтобы потом использовать этот URL напрямую в Card Region или Static Content — без гемора с blob2clobbase64, процессами, blob-viewers и т.п.



---

Решение: Генерация image_url при вставке/обновлении

1. Таблица

Пример структуры:

CREATE TABLE news (
  id            NUMBER GENERATED BY DEFAULT AS IDENTITY,
  title         VARCHAR2(200),
  content       CLOB,
  image         BLOB,
  mime_type     VARCHAR2(100),
  image_url     VARCHAR2(4000)
);


---

2. Используем apex_util.get_blob_file_src

Это стандартная функция, которая генерирует URL вида:

/ords/r/myworkspace/r/files/download/P_ID/SESSION_ID/FILE_ID

Для получения "постоянной" ссылки мы фиксируем Primary Key как идентификатор файла.


---

3. Заполняем image_url в триггере или в APEX-процессе

Вариант A: BEFORE INSERT/UPDATE Trigger

CREATE OR REPLACE TRIGGER trg_news_blob_url
BEFORE INSERT OR UPDATE ON news
FOR EACH ROW
BEGIN
  IF :NEW.image IS NOT NULL THEN
    :NEW.image_url := apex_util.get_blob_file_src('P', :NEW.id);
  END IF;
END;

> 'P' — означает, что ссылка будет работать даже без активной сессии.




---

Вариант B: APEX Process (например, после Submit)

Если хочешь делать это через APEX-процесс (после сохранения формы), используй:

BEGIN
  UPDATE news
  SET image_url = apex_util.get_blob_file_src('P', id)
  WHERE id = :P1_ID; -- или другая переменная с PK
END;


---

4. Использование image_url в отчетах, карточках, HTML

Теперь просто:

<img src="#IMAGE_URL#" alt="Фото" style="width:100%;">


---

Профит

image_url — теперь постоянная, работает в карточках, шаблонах, без всяких APEX processes, blob2clob, и Dynamic Content.

Ты получаешь чистый src="..." как будто это обычный файл.



---

Хочешь — напиши, как точно у тебя таблица называется и поля, и я соберу полный триггер и пример карточки.

