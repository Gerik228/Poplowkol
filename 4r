Понимаю, что вы хотите автоматически генерировать постоянный URL для изображения, сохраненного в BLOB-атрибуте вашей таблицы, используя триггер.  

Рекомендуемое решение:

   

Пошаговая инструкция:

1. Настройка формы в APEX:

 



2. Добавление процесса после отправки формы:

 

 

 

 



3. PL/SQL код для генерации URL:

 

DECLARE
  l_mime_type VARCHAR2(255);
  l_file_name VARCHAR2(255);
BEGIN
  -- Получаем MIME-тип и имя файла
  SELECT mime_type, file_name
  INTO l_mime_type, l_file_name
  FROM your_table
  WHERE id = :P1_ID; -- Замените :P1_ID на реальный идентификатор записи

  -- Генерируем URL для BLOB
  UPDATE your_table
  SET image_url = APEX_UTIL.GET_BLOB_FILE_SRC(
                    p_item_name => 'P1_IMAGE', -- Замените на имя вашего элемента загрузки
                    p_id        => :P1_ID
                  )
  WHERE id = :P1_ID;
END;

Примечания:

Замените your_table на имя вашей таблицы.

:P1_ID — это пример названия элемента страницы, содержащего идентификатор текущей записи. Убедитесь, что используете правильное имя элемента.

'P1_IMAGE' — замените на имя вашего элемента загрузки файла в форме.




4. Настройка порядка выполнения процессов:

 



5. Тестирование:

 




Важно:  

 

