Отлично, ты дошёл до последнего рубежа — и это уже не AJAX, не шаблон, не JS.

Ошибка:

> ORA-06502: PL/SQL: ошибка числа или значения



означает, что ты пытаешься присвоить строку в переменную неправильного типа. А значит:


---

Причина: apex_application.g_x01 — это VARCHAR2, а твой id — скорее всего NUMBER

А ты пытаешься сделать:

where id = apex_application.g_x01; -- конфликт типов!


---

Решение: привести тип явно к NUMBER

Обнови свой PL/SQL-код на:

declare
  l_clob clob;
begin
  select des_test
    into l_clob
    from bi_portal_faq
   where id = to_number(apex_application.g_x01); -- << здесь ключ

  sys.htp.prn(l_clob);

exception
  when no_data_found then
    sys.htp.prn('Контент не найден');
  when others then
    sys.htp.prn('sqlerrm: ' || sqlerrm);
end;


---

Что мы сделали:

g_x01 всегда строка (varchar2)

id в таблице — number

Поэтому надо использовать to_number()



---

Бонус: отладка через sqlerrm

Мы добавили when others then с sqlerrm, чтобы видеть любые другие ошибки — это поможет в будущем.


---

Готов выдать полную рабочую сборку на экспорт в .sql, если хочешь. Проверяй, и дай знать, заработало ли!

