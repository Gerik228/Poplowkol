Отлично, ты уже на финишной прямой!
Ссылка формируется, но при переходе по ней ошибка — значит, ORDS не может отдать IMAGE_BLOB, и мы это сейчас быстро решим.


---

Проверь шаг за шагом — почему BLOB по ссылке не отдается:

1. Таблица действительно включена в ORDS?

Выполни:

select *
from user_rest_enabled_objects
where object_name = 'PRODUCT_IMAGES';

Если нет строк — значит, таблица не опубликована как REST объект.

Если есть — посмотри колонку OBJECT_ALIAS — это будет часть URL.


---

2. Проверь ссылку вручную

Попробуй в браузере:

https://your-domain/ords/WEB_RND/product_images/

Если ты видишь JSON — значит, ORDS работает. Теперь попробуй:

https://your-domain/ords/WEB_RND/product_images/1/image_blob

(где 1 — реальный ID, у которого есть не-null IMAGE_BLOB)


---

3. Убедись, что поле IMAGE_BLOB не пустое

select id, dbms_lob.getlength(image_blob)
from product_images
where image_blob is not null;

Если длина 0 — ORDS отдаст ошибку, потому что BLOB пуст.


---

4. Проверь права на таблицу

ORDS должен видеть таблицу. Выполни:

grant select on product_images to apex_public_user;

И перезапусти ORDS (если это локальный сервер). В APEX это не всегда нужно.


---

5. Убедись, что ORDS правильно настроен отдавать BLOB

ORDS должен сам сгенерировать REST endpoint, который умеет отдавать IMAGE_BLOB:

/product_images/{id}/image_blob


Если не сработало — можно создать ручной REST-ресурс, который отдаёт BLOB через PL/SQL.


---

Хочешь, я покажу, как вручную создать RESTful endpoint для изображения через ORDS?

Это 100% рабочий вариант, если автоматическое REST-включение не отдает BLOB.

