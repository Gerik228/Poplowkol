Добавление кнопки в тулбар интерактивного грида (IG), которая открывает модальное окно

В интерактивном гриде (IG) нет встроенного механизма для добавления кнопок в тулбар, но это можно сделать через динамическое действие и JavaScript.


---

1. Добавляем кнопку в тулбар IG

1. Откройте страницу с интерактивным гридом.


2. Перейдите в "Атрибуты" грида → Найдите секцию "Toolbar" (Панель инструментов).


3. В поле "Статическая ID" укажите, например:

my_ig


4. Перейдите в Динамические действия → Создать новое.


5. В "Событии" выберите → Страница загружена.


6. Добавьте действие → Выполнить JavaScript и вставьте код:



function addToolbarButton() {
    let toolbar$ = $("#my_ig_toolbar"); // Получаем тулбар IG
    if (!toolbar$.length) return;

    // Проверяем, нет ли уже кнопки (чтобы не дублировать)
    if ($("#my_custom_btn").length) return;

    // Создаём кнопку
    let buttonHtml = '<button id="my_custom_btn" class="t-Button t-Button--hot">Добавить</button>';
    
    // Вставляем кнопку в тулбар (например, после поиска)
    toolbar$.find(".a-Toolbar-group").first().append(buttonHtml);

    // Назначаем обработчик клика
    $("#my_custom_btn").on("click", function() {
        apex.event.trigger(document, "open_modal");
    });
}

// Добавляем кнопку после загрузки тулбара
setTimeout(addToolbarButton, 500);


---

2. Создаём модальное окно

1. Создайте новую страницу → Тип "Модальное окно".


2. Запомните номер страницы, например 12.


3. Добавьте динамическое действие, которое откроет это окно:

Событие: open_modal

Действие: Открыть модальное окно

Целевая страница: 12





---

3. Тестирование

Теперь при загрузке страницы в тулбаре IG появится кнопка "Добавить", а при нажатии будет открываться модальное окно.

Если кнопка не появилась, проверьте:
✔️ Установили Static ID = my_ig в настройках IG.
✔️ Включён jQuery в APEX (он используется в коде).
✔️ В консоли браузера (F12 → Console) нет ошибок.

Если что-то не работает – напишите, разберёмся!

