Отлично, давай пошагово сделаем добавление кастомной кнопки в тулбар интерактивного грида с помощью JavaScript и динамического действия, чтобы она открывала модальное окно в Oracle APEX 23.1.


---

Предпосылки

У тебя уже есть Interactive Grid (например, регион emp_igr)

У тебя есть созданная Modal Dialog Page (допустим, это страница 10)



---

Шаг 1: Добавление кнопки в тулбар грида через JavaScript

1. Открой свой грид в Page Designer.


2. Выдели регион с интерактивным гридом.


3. Перейди в секцию Advanced > найди поле JavaScript Initialization Code.


4. Вставь следующий код:



function(config) {
  config.toolbarData.push({
    group: "actions2",
    controls: [
      {
        type: "BUTTON",
        action: "open_modal_dialog",
        label: "Открыть окно",
        icon: "fa-window-restore" // можешь заменить на другой Font Awesome
      }
    ]
  });

  return config;
}

> Это добавляет кнопку с текстом "Открыть окно" в правую часть тулбара.




---

Шаг 2: Обработка клика по кнопке

Теперь нужно отловить нажатие этой кнопки и открыть модальное окно.

1. На той же странице, создай Dynamic Action:

Name: Open Modal Dialog

Event: Custom

Custom Event: interactivegrid-action

Selection Type: Region

Region: выбери свой интерактивный грид



2. В условиях добавь:

Client-side Condition: JavaScript Expression

Expression:

this.data.action === "open_modal_dialog"



3. Внутри Dynamic Action добавь True Action:

Action: Redirect to Page in Modal Dialog

Page: 10 (номер твоей модальной страницы)

Clear Cache: 10

Set Items: если нужно передавать параметры из грида

Dialog Attributes:

Width: 600

Height: auto

Title: Форма редактирования (как хочешь)






---

Шаг 3: Протестируй

1. Сохрани изменения.


2. Запусти страницу с интерактивным гридом.


3. В тулбаре должна появиться кнопка "Открыть окно".


4. При нажатии должно открыться модальное окно (страница 10).




---

Дополнительно (по желанию)

Если ты хочешь передавать, например, ID из выделенной строки Interactive Grid — скажи, я покажу, как это сделать с помощью JavaScript + Set Items.

Хочешь расширить на это?

