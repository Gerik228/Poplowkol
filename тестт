Понял вас. Без использования RESTful сервисов, единственный 100% рабочий и поддерживаемый способ получить ссылку на BLOB в SQL-блоке региона Oracle APEX — использовать встроенную функцию apex_util.get_blob_file_src или apex_util.get_blob_file_src2. Это — официально поддерживаемый механизм и работает в APEX 23.1.


---

Проверенное решение: apex_util.get_blob_file_src2

SELECT 
    id,
    filename,
    mime_type,
    apex_util.get_blob_file_src2(
        p_table_name        => 'MY_IMAGES',
        p_primary_key       => id,
        p_blob_column       => 'BLOB_DATA',
        p_mime_type         => mime_type,
        p_filename          => filename
    ) AS image_url
FROM my_images


---

Что нужно обязательно учесть:

1. Имена таблицы и колонки BLOB должны быть в верхнем регистре.


2. Поля mime_type и filename могут быть NULL, но рекомендуется указывать, если доступны.


3. Таблица должна иметь первичный ключ или использовать ROWID (менее желательно).


4. В APEX нужно:

Включить "Enable Blob Support" для компонента;

Убедиться, что приложение использует Download BLOBs using primary key columns, а не ROWID.





---

Альтернатива через PL/SQL в Function returning SQL query (если нужна гибкость):

Если вы работаете с Function returning SQL query, можно использовать:

RETURN q'[
    SELECT 
        id,
        filename,
        mime_type,
        apex_util.get_blob_file_src2(
            p_table_name    => 'MY_IMAGES',
            p_primary_key   => id,
            p_blob_column   => 'BLOB_DATA',
            p_mime_type     => mime_type,
            p_filename      => filename
        ) AS image_url
    FROM my_images
]';


---

Отображение в APEX:

Используйте Classic Report или Interactive Report.

Для поля image_url:

Тип: Image.

Image URL: #IMAGE_URL#.

Альтернативный текст: #FILENAME#.




---

Это решение гарантированно работает без REST, официально поддерживается, и использует внутреннюю инфраструктуру APEX.
Если apex_util.get_blob_file_src2 не работает, скорее всего проблема в настройках приложения или BLOB-колонки — могу помочь их проверить.

Уточните, если нужна помощь по настройке Storage Type и Download Format в Shared Components.

